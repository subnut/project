<html>
<head>
<title>CS Practicals</title>
<!--
<script type="text/javascript">
alert("If you are viewing this site in a smartphone, you are advised to rotate it into landscape mode")
</script>
--> 
<link rel="stylesheet" href="prism.css"/>
</head>
<body bgcolor="#F5F2F0">
<pre><code class="language-python">'''

This program is to be used
strictly for educational purposes only

Created and copyrighted by subnut a.k.a snath03
To be redistributed only after obtaining due permission of author

Please report any malfunction in code
to subnut on GitHub

Hope u like it!

'''

x=open('uin','a')
x.close()
del x

def modify(empid):
    el=open(empid,'r')
    data=el.readlines()
    el.close()
    del el
    for i in range(len(data)):
        print(i+1,data[i][:-1])
    while 0<1:
        x=input("Enter the no. of data that is to be modifed: ")
        if x.isdigit():
            x=int(x)
            if x in range(1,len(data)+1):
                break
        print("Invalid input. Please try again.")
    x-=1
    ln=data[x]
    print("Enter the new data")
    dt=input(ln[:ln.find(':')+2])
    dt=ln[:ln.find(':')+2]+dt+'\n'
    data[x]=dt
    el=open(empid,'w+')
    el.writelines(data)
    el.close()
    del el
    del i
    del x
    del ln
    del dt
    del data

def deldet(empid):
    el=open(empid,'r')
    data=el.readlines()
    el.close()
    del el
    for i in range(len(data)):
        print(i+1,data[i][:-1])
    while 0<1:
        x=input("Enter the no. of data that is to be deleted: ")
        if x.isdigit():
            x=int(x)
            if x in range(1,len(data)+1):
                break
        print("Invalid input. Please try again.")
    x-=1
    del data[x]
    el=open(empid,'w+')
    el.writelines(data)
    el.close()
    del el
    del i
    del x
    del data
    

def delemp(empid):
    while 0<1:
        print("You have chosen to delete employee",empid)
        inp=input("Are you sure? [y/n] ")
        inp=inp.lower()
        if inp=='y':
            dl=True
            break
        elif inp=='n':
            dl=False
            break
        else:
            print("Invalid input. Please try again")
    del inp
    if dl:
        uin=open('uin','r')
        lst=uin.readlines()
        uin.close()
        del uin
        lst.remove(empid+'\n')
        uin=open('uin','w+')
        uin.writelines(lst)
        uin.close()
        del uin
        del lst
        while 0<1:
            inp=input("Do you want to remove the employee's stored details too? [y/n] ")
            inp=inp.lower()
            if inp=='y':
                from os import remove
                remove(empid)
                break
            elif inp=='n':
                break
            else:
                print("Invalid input. Please try again")
    del dl



def empadd(addid):
    elist=open("uin","a")
    elist.write(addid+"\n")
    fileadd=open(addid,'a')
    add=True
    while add:
        a=input("Property: ")
        b=input("Value: ")
        c=a+': '+b
        fileadd.write(c+'\n')
        eq=input("Do you want to add more? [y/n] ")
        eq=eq.lower()
        while 0<1:
            if eq=='y':
                add=True
                break
            elif eq=='n':
                add=False
                break
            else:
                print("Invalid input. Please try again.")
    fileadd.close()
    del fileadd


def empfound(empid):
    empdet=open(empid,'r')
    for i in empdet.readlines():
        print(i[:-1])
    empdet.close()
    del empdet
    mod=False
    md=input("Do you want to modify anything? [y/n] ")
    md=md.lower()
    while 0<1:
        if md=='y':
            mod=True
            break
        elif md=='n':
            break
        else:
            print("Invalid input. Please try again.")
    if mod:
        print('''What do you want to do?
1. Modify details
2. Delete details
3. Delete employee''')
        while 0<1:
            opt=input("Choose your option: ")
            if opt in "123":
                if opt=='1':
                    modify(empid)
                if opt=='2':
                    deldet(empid)
                if opt=='3':
                    delemp(empid)
                break    
            else:
                print("Invalid input. Please try again.")
        
        

enquiry=True
while enquiry:
    uid=input("Enter Employee UIN: ")
    elist=open("uin","r")
    for i in elist.readlines():
        if i==(uid+"\n"):
            elist.close()
            empfound(uid)
            break
    else:
        elist.close()
        print("Employee not found")
        while 0<1:
            asdf=input("Do you want to add the employee? [y/n] ")
            asdf=asdf.lower()
            if asdf=='y':
                empadd(uid)
                break
            elif asdf=='n':
                break
            else:
                print("Invalid input. Please try again.")
    while 0<1:
        enq=input("Do you want to check again? [y/n] ")
        enq=enq.lower()
        if enq=='y':
            enquiry=True
            break
        elif enq=='n':
            enquiry=False
            break
        else:
            print("Invalid input. Please try again.")
</code></pre>
<script src="prism.js"></script>
</body>
</html>
